<button
  type="button"
  hlmBtn
  size="xs"
  variant="ghost"
  class="h-[30px] min-w-[100px]"
  [hlmDropdownMenuTrigger]="menu"
>
  @if (currentBlockType()?.icon) {
    <ng-icon
      hlm
      size="sm"
      [name]="$any(currentBlockType()?.icon)"
      class="me-2"
    />
  }
  <span>
    {{ currentBlockType()?.name }}
  </span>
</button>
<ng-template #menu>
  <hlm-dropdown-menu>
    <hlm-dropdown-menu-group class="px-2">
      <div class="flex flex-col w-full">
        @for (
          blockType of filteredBlockTypes();
          track blockType.name;
          let index = $index
        ) {
          <button
            type="button"
            hlmDropdownMenuCheckbox
            class="gap-2 flex justify-start"
            (click)="changeBlockType(blockType.type, blockType.props)"
            [checked]="currentBlockTypeIndex() === index"
          >
            <hlm-dropdown-menu-checkbox-indicator />
            <div
              class="min-w-[120px] gap-2 flex justify-start items-center w-full"
            >
              @if (blockType.icon) {
                <ng-icon hlm size="sm" [name]="blockType.icon" />
              }
              {{ blockType.name }}
            </div>
          </button>
        }
      </div>
    </hlm-dropdown-menu-group>
  </hlm-dropdown-menu>
</ng-template>
